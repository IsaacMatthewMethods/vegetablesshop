"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{3792:function(e,s,r){r.r(s),r.d(s,{default:function(){return h}});var t=r(5893),l=r(7294),a=r(9655),i=r(6194),n=r(3989),c=r(7864),d=r(7818),o=r(4270),x=r(2206),m=e=>{let{item:s}=e,{updateCartItemQuantity:r,removeFromCart:l}=(0,x.b)();return(0,t.jsxs)("div",{className:"flex items-center py-4 border-b border-gray-200",children:[(0,t.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,t.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover rounded"})}),(0,t.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:s.name}),(0,t.jsxs)("p",{className:"text-gray-600",children:["$",s.price.toFixed(2)," / ",s.unit]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>r(s.id,s.quantity-1),className:"p-1 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors",children:(0,t.jsx)(d.Z,{size:16})}),(0,t.jsx)("span",{className:"mx-3 w-8 text-center",children:s.quantity}),(0,t.jsx)("button",{onClick:()=>r(s.id,s.quantity+1),className:"p-1 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors",children:(0,t.jsx)(o.Z,{size:16})})]}),(0,t.jsxs)("div",{className:"ml-6 text-right",children:[(0,t.jsxs)("p",{className:"font-semibold",children:["$",(s.price*s.quantity).toFixed(2)]}),(0,t.jsx)("button",{onClick:()=>l(s.id),className:"text-red-500 hover:text-red-700 transition-colors mt-1",children:(0,t.jsx)(c.Z,{size:18})})]})]})},h=()=>{let{cart:e,clearCart:s,placeOrder:r,currentUser:d}=(0,x.b)(),[o,h]=(0,l.useState)(""),[g,u]=(0,l.useState)(""),[j,b]=(0,l.useState)(!1),[p,y]=(0,l.useState)(!1),f=e.reduce((e,s)=>e+s.price*s.quantity,0),N=f>50?0:5.99;return p?(0,t.jsx)("div",{className:"container mx-auto px-4 py-16 max-w-2xl",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(i.Z,{size:32,className:"text-green-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Order Placed Successfully!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your order. We've received your order and will begin processing it right away. You can track your order in your dashboard."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,t.jsxs)(a.rU,{to:"/dashboard",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center transition-colors",children:["View Your Orders",(0,t.jsx)(n.Z,{size:18,className:"ml-2"})]}),(0,t.jsx)(a.rU,{to:"/shop",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg flex items-center justify-center transition-colors",children:"Continue Shopping"})]})]})}):0===e.length?(0,t.jsx)("div",{className:"container mx-auto px-4 py-16 max-w-2xl",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(i.Z,{size:32,className:"text-gray-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Your Cart is Empty"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any vegetables to your cart yet. Browse our selection of fresh vegetables and start shopping!"}),(0,t.jsxs)(a.rU,{to:"/shop",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg inline-flex items-center transition-colors",children:["Start Shopping",(0,t.jsx)(n.Z,{size:18,className:"ml-2"})]})]})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Your Shopping Cart"}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,t.jsx)("div",{className:"lg:w-2/3",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:["Cart Items (",e.length,")"]}),(0,t.jsxs)("button",{onClick:s,className:"text-red-500 hover:text-red-700 flex items-center",children:[(0,t.jsx)(c.Z,{size:16,className:"mr-1"}),"Clear Cart"]})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,t.jsx)(m,{item:e},e.id))})]})}),(0,t.jsx)("div",{className:"lg:w-1/3",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",f.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,t.jsx)("span",{children:0===N?"Free":"$".concat(N.toFixed(2))})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[(0,t.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",(f+N).toFixed(2)]})]}),f<50&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Add $",(50-f).toFixed(2)," more to qualify for free shipping"]})]})]}),j?(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o&&g&&(r(o,g),y(!0))},children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"address",className:"block text-gray-700 mb-2",children:"Delivery Address"}),(0,t.jsx)("textarea",{id:"address",value:o,onChange:e=>h(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-gray-700 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",id:"phone",value:g,onChange:e=>u(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center transition-colors",children:["Place Order",(0,t.jsx)(n.Z,{size:18,className:"ml-2"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>b(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg transition-colors",children:"Back to Cart"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center transition-colors",children:["Proceed to Checkout",(0,t.jsx)(n.Z,{size:18,className:"ml-2"})]}),(0,t.jsx)(a.rU,{to:"/shop",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-lg flex items-center justify-center transition-colors",children:"Continue Shopping"})]})]})})]})]})}}}]);