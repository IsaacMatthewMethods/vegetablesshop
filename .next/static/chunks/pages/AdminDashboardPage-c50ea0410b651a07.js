(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{8485:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AdminDashboardPage",function(){return s(4216)}])},1134:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(7294);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},d=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:o="",children:x,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:s,strokeWidth:n?24*Number(l)/Number(a):l,className:d("lucide",o),...!x&&!i(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:i,...c}=s;return(0,r.createElement)(o,{ref:l,iconNode:t,className:d("lucide-".concat(a(n(e))),"lucide-".concat(e),i),...c})});return s.displayName=n(e),s}},2171:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5432:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3156:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},4270:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7864:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(1134).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},4216:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(5893),a=s(7294),l=s(9250),n=s(3156),d=s(4270);let i=(0,s(1134).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var c=s(7864),o=s(6327),x=s(2206),u=()=>{let{currentUser:e,orders:t,products:s,updateOrderStatus:u,updateProduct:m,addProduct:h,removeProduct:p}=(0,x.b)(),g=(0,l.s0)(),[b,y]=(0,a.useState)("orders"),[j,v]=(0,a.useState)(null),[f,N]=(0,a.useState)(!1);if(a.useEffect(()=>{e&&"admin"===e.role||g("/login")},[e,g]),!e||"admin"!==e.role)return null;let w=(e,t)=>{u(e,t)},k=e=>{v({...e}),N(!1)},C=e=>{window.confirm("Are you sure you want to delete this product?")&&p(e)};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,r.jsx)("button",{className:"py-2 px-4 font-medium ".concat("orders"===b?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"),onClick:()=>y("orders"),children:"Orders"}),(0,r.jsx)("button",{className:"py-2 px-4 font-medium ".concat("products"===b?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"),onClick:()=>y("products"),children:"Products"})]}),"orders"===b&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Manage Orders"}),0===t.length?(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(n.Z,{size:24,className:"text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Orders Yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"There are no orders in the system yet."})]}):(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)(o.Z,{order:e,isAdmin:!0,onUpdateStatus:w},e.id))})]}),"products"===b&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Manage Products"}),(0,r.jsxs)("button",{onClick:()=>{v({id:"product-".concat(Date.now()),name:"",price:0,image:"",description:"",category:"root",stock:0,unit:"each"}),N(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,r.jsx)(d.Z,{size:18,className:"mr-1"}),"Add New Product"]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,r.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.image,alt:e.name})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:["$",e.price.toFixed(2)," / ",e.unit]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.stock})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 capitalize",children:e.category})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{onClick:()=>k(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:(0,r.jsx)(i,{size:18})}),(0,r.jsx)("button",{onClick:()=>C(e.id),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(c.Z,{size:18})})]})]},e.id))})]})})]}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:f?"Add New Product":"Edit Product"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Product Name"}),(0,r.jsx)("input",{type:"text",value:j.name,onChange:e=>v({...j,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Price"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:j.price,onChange:e=>v({...j,price:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Image URL"}),(0,r.jsx)("input",{type:"text",value:j.image,onChange:e=>v({...j,image:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:j.category,onChange:e=>v({...j,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,r.jsx)("option",{value:"root",children:"Root Vegetables"}),(0,r.jsx)("option",{value:"leafy",children:"Leafy Greens"}),(0,r.jsx)("option",{value:"fruit",children:"Fruit Vegetables"}),(0,r.jsx)("option",{value:"cruciferous",children:"Cruciferous"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Stock"}),(0,r.jsx)("input",{type:"number",value:j.stock,onChange:e=>v({...j,stock:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Unit"}),(0,r.jsxs)("select",{value:j.unit,onChange:e=>v({...j,unit:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,r.jsx)("option",{value:"each",children:"Each"}),(0,r.jsx)("option",{value:"lb",children:"Pound (lb)"}),(0,r.jsx)("option",{value:"bunch",children:"Bunch"}),(0,r.jsx)("option",{value:"head",children:"Head"}),(0,r.jsx)("option",{value:"bag",children:"Bag"})]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:j.description,onChange:e=>v({...j,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3})]})]}),(0,r.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,r.jsx)("button",{onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{j&&(f?h(j):m(j),v(null),N(!1))},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Save Changes"})]})]})})})]})}},6327:function(e,t,s){"use strict";var r=s(5893),a=s(7294),l=s(5432),n=s(2171);t.Z=e=>{let{order:t,isAdmin:s=!1,onUpdateStatus:d}=e,[i,c]=a.useState(!1);return(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden mb-4 bg-white shadow-sm",children:[(0,r.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>c(!i),children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Order #",t.id]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(e=>{let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()})(t.date)})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),(0,r.jsx)("span",{className:"ml-4 text-gray-500",children:i?(0,r.jsx)(l.Z,{size:20}):(0,r.jsx)(n.Z,{size:20})})]})]}),i&&(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Shipping Information"}),(0,r.jsxs)("p",{className:"text-gray-700",children:["Address: ",t.address]}),(0,r.jsxs)("p",{className:"text-gray-700",children:["Phone: ",t.phone]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Order Items"}),(0,r.jsx)("div",{className:"space-y-2",children:t.items.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-10 h-10 object-cover rounded mr-3"}),(0,r.jsxs)("span",{children:[e.name," x ",e.quantity]})]}),(0,r.jsxs)("span",{children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center font-medium text-lg border-t border-gray-200 pt-3",children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{children:["$",t.total.toFixed(2)]})]}),s&&d&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Update Status"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>d(t.id,"pending"),className:"px-3 py-1 rounded text-sm ".concat("pending"===t.status?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-800"),children:"Pending"}),(0,r.jsx)("button",{onClick:()=>d(t.id,"approved"),className:"px-3 py-1 rounded text-sm ".concat("approved"===t.status?"bg-blue-500 text-white":"bg-blue-100 text-blue-800"),children:"Approved"}),(0,r.jsx)("button",{onClick:()=>d(t.id,"delivered"),className:"px-3 py-1 rounded text-sm ".concat("delivered"===t.status?"bg-green-500 text-white":"bg-green-100 text-green-800"),children:"Delivered"}),(0,r.jsx)("button",{onClick:()=>d(t.id,"cancelled"),className:"px-3 py-1 rounded text-sm ".concat("cancelled"===t.status?"bg-red-500 text-white":"bg-red-100 text-red-800"),children:"Cancelled"})]})]})]})]})}}},function(e){e.O(0,[644,250,888,774,179],function(){return e(e.s=8485)}),_N_E=e.O()}]);